<main class="flex-grow md:mt-20 bg-gray-100 py-10">
  <div class="container mx-auto px-4">
    <div class="container mx-auto px-4 py-8">
      <div class="mb-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
        <h2 class="text-3xl font-semibold font-maderarcoFont animate-fade-down animate-delay-1000 text-gray-800 mb-6 text-center">Nuestra tienda musical</h2>
      </div>

      @if (loading()) {
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
          @for (item of [1,2,3,4,5,6,7,8]; track $index) {
            <div class="bg-white rounded-lg shadow-md overflow-hidden animate-pulse">
              <div class="bg-gray-200 h-48 w-full"></div>
              <div class="p-4 space-y-3">
                <div class="h-4 bg-gray-200 rounded w-3/4"></div>
                <div class="h-4 bg-gray-200 rounded"></div>
                <div class="h-4 bg-gray-200 rounded w-1/2"></div>
                <div class="h-8 bg-gray-200 rounded mt-4"></div>
              </div>
            </div>
          }
        </div>
      } @else {
        @if (!selectedProductId()) {
          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            @for (product of products(); track product.id) {
              <product-card
                [product]="product"
                (viewDetail)="navigateToProductDetail(product.id)" />
            }
          </div>
        } @else {
          <app-product-page [productId]="selectedProductId()"></app-product-page>
          <button (click)="volverATienda()" class="mt-4 px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400">Volver a la tienda</button>
        }
      }

      </div>
  </div>
</main>